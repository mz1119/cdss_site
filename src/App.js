import React from "react";
import { useState } from "react";
import './App.css';

const percentages = [0.009551546807714598, 0.00985232516341068, 0.009720276129202643, 0.009808308818674668, 0.009243432394562514, 0.009434169888418565, 0.00897199826869044, 0.008927981923954428, 0.009507530462978586, 0.008986670383602444, 0.00841445790203429, 0.008634539625714348, 0.008370441557298276, 0.008392449729666282, 0.008737244430098377, 0.00815769589107422, 0.008407121844578288, 0.007952286282306162, 0.00801097474195418, 0.008392449729666282, 0.007020606985393909, 0.00713064784723394, 0.007512122834946043, 0.0067931892042578474, 0.00720400842179396, 0.007005934870481905, 0.007255360823985974, 0.006756508916977838, 0.007152656019601945, 0.0067124925722418256, 0.006873885836273869, 0.0068592137213618655, 0.006595115652945794, 0.0067198286296978275, 0.006096263745937658, 0.006653804112593809, 0.006485074791105764, 0.00683720554899386, 0.006389706044177738, 0.006206304607777688, 0.006404378159089742, 0.006044911343745644, 0.005964214711729622, 0.006309009412161716, 0.00647040267619376, 0.006191632492865684, 0.006154952205585674, 0.0059275344244496125, 0.005744132988049562, 0.005890854137169602, 0.005832165677521586, 0.0057221248156815565, 0.005531387321825504, 0.0057147887582255546, 0.0054360185748974785, 0.005685444528401546, 0.005494707034545495, 0.00573679693059356, 0.005538723379281506, 0.005707452700769553, 0.005641428183665535, 0.005524051264369502, 0.01021912803621078, 0.01514895864664412, 0.016777563401876562, 0.017371784055812724, 0.015721171128212277, 0.013432321201939653, 0.009822980933586672, 0.0077101963862580974, 0.005832165677521586, 0.004386962358689193, 0.004357618128865186, 0.030385949982760264, 0.05317174444110246, 0.06675812284961816, 0.07192270729864356, 0.06598783681673795, 0.05462428381739086, 0.040384996295290986, 0.025947635221879057, 0.015024245669892087, 0.007475442547666034, 0.003411266717040928, 0.0012324576526083352, 0.0003154504706080858, 0.00011004086184002994, 4.4016344736011974e-05, 7.336057456001995e-06, 7.336057456001995e-06]

const nextTen = (x) => {
  x = Number(x)
  if (x > 79) { return 100 }
  let returnpercent = 0;
  for (let i = 0; i < x+10; i++){
    returnpercent += percentages[i];
  }
  return returnpercent * 100;
}

function App() {

  const [input, setInput] = useState([]);

  return (
    <div className="App">
      <h1>Genshin Impact Wish Pity Calculator</h1>
        <div className="search" >
          <input 
          placeholder="Enter How Many Wishes You've Pulled Since Your Last 5-Star (Legendary)"
          value={input} 
          onChange={(e) => {setInput(e.target.value)}}
          />
        </div>
        <div className="display">
          <h1>You Chance for Pulling in the Next 10 Rolls...</h1>
          {input.length > 0 ? (
                    <div className="container empty">
                        <h2>{Math.round(nextTen(input))} %</h2>
                    </div>
                ) : (
                    <div className="empty">
                        <h2></h2>
                    </div>
                )
            }
        </div>
    </div>
  );
}

export default App;
